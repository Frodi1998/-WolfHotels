import { Command } from 'commander-core';
import { stripIndent } from 'common-tags';
import { InlineKeyboard } from 'grammy';
import { BOOK_HELP_BUTONS, BOOK_MORE_HELP_BUTONS } from '../../common/buttons';
import { BotContext } from '../../common/telegram';
import { LINK_FOR_SUITE } from '../../common/text';

export default new Command({
  pattern: /^(?:[–∞-—è\s\d]+)*(?:–±—Ä–æ–Ω—å|–∑–∞–±—Ä–æ–Ω|–∑–∞–±—Ä–∞–Ω|–±—Ä–∞–Ω|–±—Ä–æ–Ω–∏|–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å|–±—Ä–æ–Ω–µ–π)(?:[–∞-—è\s\d]+)*/i,
  name: '–±—Ä–æ–Ω—å',
  description: '–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è',

  async handler(context: BotContext) {
      const text = stripIndent`
        <b>üîÜ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–µ–ª—å –º–æ–∂–Ω–æ –Ω–∞ –Ω–∞—à–µ–º</b> <a href="${LINK_FOR_SUITE}">—Å–∞–π—Ç–µ</a>
        ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
        üí° –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–µ–ª—å –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä—è–¥ –Ω–µ—Å–ª–æ–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:
        <code>1.</code> –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç –∏–∑ —Å—Å—ã–ª–∫–∏ –≤—ã—à–µ
        <code>2.</code> –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—é—â—É—é –∏ –¥–æ—Å—Ç—É–ø–Ω—É—é –¥–ª—è –≤–∞—Å –¥–∞—Ç—É –∑–∞–µ–∑–¥–∞
        <code>3.</code> –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—é—â—É—é –∏ –¥–æ—Å—Ç—É–ø–Ω—É—é –¥–ª—è –≤–∞—Å –¥–∞—Ç—É –≤—ã–µ–∑–¥–∞
        <code>4.</code> –í—ã–±—Ä–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑—Ä–æ—Å–ª—ã—Ö
        <code>5.</code> –í—ã–±—Ä–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π (2 - 11 –ª–µ—Ç)
        <code>6.</code> –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "–ù–∞–π—Ç–∏" –∏ –¥–∞–ª–µ–µ –≤—ã–±—Ä–∞—Ç—å –æ—Ç–µ–ª—å –ø–æ –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
      `
      return context.reply(text, {
          parse_mode: "HTML",
          reply_markup: BOOK_HELP_BUTONS
      })
    
    // await context.reply(`<b>üìö –í–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ, –≤—ã –∏–º–µ–ª–∏ –≤–≤–∏–¥—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è.</b>\nüëá –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ.`, {
    //     parse_mode: "HTML",
    //     reply_markup: BOOK_MORE_HELP_BUTONS
    // });
  },
});